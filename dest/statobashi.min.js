var statobashi=function(){"use strict";function e(e){r=Object.assign({},s,e),a(),n(),window.addEventListener("resize",function(){n()}),document.getElementById(r.canvasWrapperId).addEventListener("click",function(){console.log(r.canvasWrapperId+" click"),this.style.display="none"})}function a(){u=document.createElement("div"),u.id=r.canvasWrapperId,u.style.cssText="height:100%;left:0;margin:0;padding:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:"+r.z_index+";",h=document.createElement("canvas"),h.style.cssText="margin:0;padding:0;pointer-events:none;",u.appendChild(h),document.body.appendChild(u),d=h.getContext("2d")}function n(){h.setAttribute("width",u.offsetWidth),h.setAttribute("height",u.offsetHeight)}function t(){var e=Math.floor(Math.random()*r.bullets.length);return r.bullets[e]}function i(){var e=Math.floor(Math.random()*(r.crossingTimeMax-r.crossingTimeMin))+r.crossingTimeMin;return e}function m(e,a){e=e||t(),a=a||i(),o(e,r.scale,a)}function o(e,a,n){var t=new Image;t.onload=function(){var t=e.pattern||1,i=this.width/t,m=n,o=m*r.fps/1e3,s=(u.offsetWidth+i*a)/o,h={img:this,left:u.offsetWidth,top:Math.floor(Math.random()*u.offsetHeight-this.height*a/2),speed:s,scale:a,width:i,height:this.height,pattern:t,drawOffsetLeft:0,drawOffsetCount:0,frameCount:0,frameToChange:Math.floor(10*Math.random()+1)};c.push(h),!p&&window.requestAnimationFrame&&g()},t.src=e.image}function g(){p=!0,d.clearRect(0,0,h.width,h.height),c.forEach(function(e){d.save(),d.scale(e.scale,e.scale),1==e.pattern?d.drawImage(e.img,e.left/e.scale,e.top/e.scale):(d.drawImage(e.img,e.drawOffsetLeft,0,e.width,e.height,e.left/e.scale,e.top/e.scale,e.width,e.height),e.frameCount=(e.frameCount+1)%e.frameToChange,0==e.frameCount&&(e.drawOffsetCount=(e.drawOffsetCount+1)%e.pattern,e.drawOffsetLeft=e.width*e.drawOffsetCount)),d.restore(),e.left-=e.speed});for(var e=c.length-1;e>=0;e--)c[e].left+c[e].img.width<0&&c.splice(e,1);0<c.length?window.requestAnimationFrame(g):p=!1}var s={bullets:[{image:"https://mouneyou.rgx6.com/images/anime/anime004.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime005.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime007.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime012.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime016.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime022.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime027.png",pattern:4},{image:"https://mouneyou.rgx6.com/images/anime/anime029.png",pattern:2},{image:"https://mouneyou.rgx6.com/images/anime/anime030.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime036.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime037.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime042.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime043.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime044.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime048.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime051.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime053.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime060.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime062.png"},{image:"image/casket_orange.png"},{image:"image/casket_black.png"},{image:"image/casket_white.png"},{image:"image/casket_green.png"},{image:"image/casket_blue.png"},{image:"image/casket_pink.png"}],canvasWrapperId:"statobashi-canvas-wrapper",fps:60,crossingTimeMax:3e3,crossingTimeMin:100,scale:.5,z_index:7144},r={},c=[],p=!1,u=void 0,h=void 0,d=void 0;return{init:e,launch:m}}();