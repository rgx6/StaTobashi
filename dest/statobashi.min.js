var statobashi=function(){"use strict";function e(e){r=Object.assign({},s,e),t(),a(),window.addEventListener("resize",function(){a()}),document.getElementById(r.canvasWrapperId).addEventListener("click",function(){console.log(r.canvasWrapperId+" click"),this.style.display="none"})}function t(){p=document.createElement("div"),p.id=r.canvasWrapperId,p.style.cssText="height:100%;left:0;margin:0;padding:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:"+r.z_index+";",u=document.createElement("canvas"),u.style.cssText="margin:0;padding:0;pointer-events:none;",p.appendChild(u),document.body.appendChild(p),d=u.getContext("2d")}function a(){u.setAttribute("width",p.offsetWidth),u.setAttribute("height",p.offsetHeight)}function n(){var e=Math.floor(Math.random()*r.bullets.length);return r.bullets[e]}function i(){var e=Math.floor(Math.random()*(r.crossingTimeMax-r.crossingTimeMin))+r.crossingTimeMin;return e}function m(e,t){e=e||n(),t=t||i(),o(e,r.scale,t)}function o(e,t,a){var n=new Image;n.onload=function(){var n=e.pattern||1,i=this.width/n,m=a,o=m*r.fps/1e3,s=(p.offsetWidth+i*t)/o,u={img:this,left:p.offsetWidth,top:Math.floor(Math.random()*p.offsetHeight-this.height*t/2),speed:s,scale:t,width:i,height:this.height,pattern:n,drawOffsetLeft:0,drawOffsetCount:0,frameCount:0,frameToChange:Math.floor(10*Math.random()+1)};c.push(u),!h&&window.requestAnimationFrame&&g()},n.src=e.image}function g(){h=!0,d.clearRect(0,0,u.width,u.height),c.forEach(function(e){d.save(),d.scale(e.scale,e.scale),1==e.pattern?d.drawImage(e.img,e.left/e.scale,e.top/e.scale):(d.drawImage(e.img,e.drawOffsetLeft,0,e.width,e.height,e.left/e.scale,e.top/e.scale,e.width,e.height),e.frameCount=(e.frameCount+1)%e.frameToChange,0==e.frameCount&&(e.drawOffsetCount=(e.drawOffsetCount+1)%e.pattern,e.drawOffsetLeft=e.width*e.drawOffsetCount)),d.restore(),e.left-=e.speed});for(var e=c.length-1;e>=0;e--)c[e].left+c[e].img.width<0&&c.splice(e,1);0<c.length?window.requestAnimationFrame(g):h=!1}var s={bullets:[{image:"https://mouneyou.rgx6.com/images/anime/anime004.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime005.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime007.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime012.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime016.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime022.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime027.png",pattern:4},{image:"https://mouneyou.rgx6.com/images/anime/anime029.png",pattern:2},{image:"https://mouneyou.rgx6.com/images/anime/anime030.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime036.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime037.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime042.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime043.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime044.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime048.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime051.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime053.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime060.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime062.png"},{image:"http://statobashi.rgx6.com/image/casket_orange.png"},{image:"http://statobashi.rgx6.com/image/casket_black.png"},{image:"http://statobashi.rgx6.com/image/casket_white.png"},{image:"http://statobashi.rgx6.com/image/casket_green.png"},{image:"http://statobashi.rgx6.com/image/casket_blue.png"},{image:"http://statobashi.rgx6.com/image/casket_pink.png"}],canvasWrapperId:"statobashi-canvas-wrapper",fps:60,crossingTimeMax:3e3,crossingTimeMin:100,scale:.5,z_index:7144},r={},c=[],h=!1,p=void 0,u=void 0,d=void 0;return{init:e,launch:m}}();