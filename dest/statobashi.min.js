var statobashi=function(){"use strict";function e(e){r=Object.assign({},g,e),t(),n(),window.addEventListener("resize",function(){n()}),document.getElementById(r.canvasWrapperId).addEventListener("click",function(){console.log(r.canvasWrapperId+" click"),this.style.display="none"})}function t(){h=document.createElement("div"),h.id=r.canvasWrapperId,h.style.cssText="height:100%;left:0;margin:0;padding:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:"+r.z_index+";",p=document.createElement("canvas"),p.style.cssText="margin:0;padding:0;pointer-events:none;",h.appendChild(p),document.body.appendChild(h),d=p.getContext("2d")}function n(){p.setAttribute("width",h.offsetWidth),p.setAttribute("height",h.offsetHeight)}function a(){var e=Math.floor(Math.random()*r.bullets.length);return r.bullets[e]}function i(){var e=Math.floor(Math.random()*(r.crossingTimeMax-r.crossingTimeMin))+r.crossingTimeMin;return e}function m(e,t){e=e||a(),t=t||i(),o(e,r.scale,t)}function o(e,t,n){var a=new Image;a.onload=function(){var a=e.pattern||1,i=this.width/a,m=n,o=m*r.fps/1e3,g=(h.offsetWidth+i*t)/o,p={img:this,left:h.offsetWidth,top:Math.floor(Math.random()*h.offsetHeight-this.height*t/2),speed:g,scale:t,width:i,height:this.height,pattern:a,drawOffsetLeft:0,drawOffsetCount:0,frameCount:0,frameToChange:Math.floor(10*Math.random()+1)};u.push(p),!c&&window.requestAnimationFrame&&s()},a.src=e.image}function s(){c=!0,d.clearRect(0,0,p.width,p.height),u.forEach(function(e){d.save(),d.scale(e.scale,e.scale),1==e.pattern?d.drawImage(e.img,e.left/e.scale,e.top/e.scale):(d.drawImage(e.img,e.drawOffsetLeft,0,e.width,e.height,e.left/e.scale,e.top/e.scale,e.width,e.height),e.frameCount=(e.frameCount+1)%e.frameToChange,0==e.frameCount&&(e.drawOffsetCount=(e.drawOffsetCount+1)%e.pattern,e.drawOffsetLeft=e.width*e.drawOffsetCount)),d.restore(),e.left-=e.speed});for(var e=u.length-1;e>=0;e--)u[e].left+u[e].img.width<0&&u.splice(e,1);0<u.length?window.requestAnimationFrame(s):c=!1}var g={bullets:[{image:"https://mouneyou.rgx6.com/images/anime/anime004.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime005.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime007.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime012.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime016.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime022.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime027.png",pattern:4},{image:"https://mouneyou.rgx6.com/images/anime/anime029.png",pattern:2},{image:"https://mouneyou.rgx6.com/images/anime/anime030.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime036.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime037.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime042.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime043.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime044.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime048.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime051.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime053.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime060.png"},{image:"https://mouneyou.rgx6.com/images/anime/anime062.png"}],canvasWrapperId:"statobashi-canvas-wrapper",fps:60,crossingTimeMax:3e3,crossingTimeMin:100,scale:.5,z_index:7144},r={},u=[],c=!1,h=void 0,p=void 0,d=void 0;return{init:e,launch:m}}();